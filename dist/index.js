function I(){return"version 1.0.0"}var g=new Set(["AT","BE","BG","CY","CZ","DK","EE","FI","FR","DE","GR","HU","IE","IT","LV","LT","LU","MT","NL","PL","PT","RO","SK","SI","ES","SE","IS","NO","LI","AL","AD","MD","MC","ME","MK","SM","RS","CH","GB","VA"]),f={AD:24,AE:23,AL:28,AT:20,AZ:28,BA:20,BE:16,BG:22,BH:22,BR:29,BY:28,CH:21,CR:22,CY:28,CZ:24,DE:22,DK:18,DO:28,EE:20,EG:29,ES:24,FI:18,FO:18,FR:27,GB:22,GE:22,GI:23,GL:18,GR:27,GT:28,HR:21,HU:28,IE:22,IL:23,IQ:23,IS:26,IT:27,JO:30,KW:30,KZ:20,LB:28,LC:32,LI:21,LT:20,LU:20,MC:27,MD:24,ME:22,MK:19,MR:27,MT:31,MU:30,NL:18,NO:15,PK:24,PL:28,PS:29,PT:25,QA:29,RO:24,RS:22,SA:24,SC:31,SE:24,SI:19,SK:24,SM:27,ST:25,SV:28,TL:23,TN:24,TR:26,UA:29,VG:24,XK:20},A=/^[A-Z0-9]+$/,S=/^[A-Z]{2}\d{2}[A-Z0-9]+$/;function a(n){if(typeof n!="string"||n.length===0||!A.test(n)||n!==n.toUpperCase()||!S.test(n))return!1;let o=n.slice(0,2),r=f[o];if(!r||n.length!==r)return!1;let e=n.slice(4)+n.slice(0,4),t=0,i="";for(let s=0;s<e.length;s++){let u=e.charCodeAt(s);u>=48&&u<=57?i+=e[s]:i+=String(u-55),i.length>9&&(t=l(t,i),i="")}return i&&(t=l(t,i)),t===1}function l(n,o){let r=String(n)+o,e=0;for(let t=0;t<r.length;t++)e=(e*10+(r.charCodeAt(t)-48))%97;return e}function c(n){if(typeof n!="string")return"";let o=n.normalize("NFKD"),r="";for(let e=0;e<o.length;e++){let t=o.charCodeAt(e);if(t>=48&&t<=57){r+=o[e];continue}if(t>=1632&&t<=1641){r+=String(t-1632);continue}if(t>=1776&&t<=1785){r+=String(t-1776);continue}if(t>=65&&t<=90||t>=97&&t<=122){r+=o[e].toUpperCase();continue}}return r.replace(/[^A-Z0-9]/g,"")}function p(n){return a(c(n))}function E(n,o={}){let{groupSize:r=4,validate:e=!0}=o,t=c(n);if(e&&!a(t))throw new Error("Invalid IBAN: cannot format");return t.replace(new RegExp(`(.{1,${r}})`,"g"),"$1 ").trim()}function d(n){let o=c(n);if(o.length<4)return null;let r=o.slice(0,2),e=f[r];return!e||o.length!==e||!/^[A-Z]{2}\d{2}[A-Z0-9]+$/.test(o)?null:r}function h(n){let o=c(n);if(o.length<4)return null;let r=o.slice(0,2),e=f[r];return!e||o.length!==e||!/^[A-Z]{2}\d{2}[A-Z0-9]+$/.test(o)?null:{country:r,length:e,sepa:g.has(r)}}function L(n,o){if(!/^[A-Z]{2}$/.test(n))throw new Error("Invalid country code: must be 2 uppercase letters");if(!/^[A-Z0-9]+$/.test(o))throw new Error("Invalid BBAN: must be uppercase alphanumeric");let r=o+n+"00",e=0,t="";for(let i=0;i<r.length;i++){let s=r.charCodeAt(i);s>=48&&s<=57?t+=r[i]:t+=String(s-55),t.length>9&&(e=l(e,t),t="")}return t&&(e=l(e,t)),String(98-e).padStart(2,"0")}export{L as computeCheckDigits,E as formatIban,d as getIbanCountry,h as getIbanMetadata,a as isValidIban,p as isValidIbanTolerant,c as normalizeIban,I as version};
