function I(){return"version 1.0.0"}var g=new Set(["AT","BE","BG","CY","CZ","DK","EE","FI","FR","DE","GR","HU","IE","IT","LV","LT","LU","MT","NL","PL","PT","RO","SK","SI","ES","SE","IS","NO","LI","AL","AD","MD","MC","ME","MK","SM","RS","CH","GB","VA"]),u={AD:24,AE:23,AL:28,AT:20,AZ:28,BA:20,BE:16,BG:22,BH:22,BR:29,BY:28,CH:21,CR:22,CY:28,CZ:24,DE:22,DK:18,DO:28,EE:20,EG:29,ES:24,FI:18,FO:18,FR:27,GB:22,GE:22,GI:23,GL:18,GR:27,GT:28,HR:21,HU:28,IE:22,IL:23,IQ:23,IS:26,IT:27,JO:30,KW:30,KZ:20,LB:28,LC:32,LI:21,LT:20,LU:20,MC:27,MD:24,ME:22,MK:19,MR:27,MT:31,MU:30,NL:18,NO:15,PK:24,PL:28,PS:29,PT:25,QA:29,RO:24,RS:22,SA:24,SC:31,SE:24,SI:19,SK:24,SM:27,ST:25,SV:28,TL:23,TN:24,TR:26,UA:29,VG:24,XK:20},S=/^[A-Z0-9]+$/,A=/^[A-Z]{2}\d{2}[A-Z0-9]+$/;function a(n){if(typeof n!="string"||n.length===0||!S.test(n)||n!==n.toUpperCase()||!A.test(n))return!1;let r=n.slice(0,2),o=u[r];if(!o||n.length!==o)return!1;let e=n.slice(4)+n.slice(0,4),t=0,i="";for(let s=0;s<e.length;s++){let c=e.charCodeAt(s);c>=48&&c<=57?i+=e[s]:i+=String(c-55),i.length>9&&(t=f(t,i),i="")}return i&&(t=f(t,i)),t===1}function f(n,r){let o=String(n)+r,e=0;for(let t=0;t<o.length;t++)e=(e*10+(o.charCodeAt(t)-48))%97;return e}function l(n){if(typeof n!="string")return"";let r=n.normalize("NFKD"),o="";for(let e=0;e<r.length;e++){let t=r.charCodeAt(e);if(t>=48&&t<=57){o+=r[e];continue}if(t>=1632&&t<=1641){o+=String(t-1632);continue}if(t>=1776&&t<=1785){o+=String(t-1776);continue}if(t>=65&&t<=90||t>=97&&t<=122){o+=r[e].toUpperCase();continue}}return o.replace(/[^A-Z0-9]/g,"")}function E(n){return a(l(n))}function p(n,r={}){let{groupSize:o=4,validate:e=!0}=r,t=l(n);if(e&&!a(t))throw new Error("Invalid IBAN: cannot format");return t.replace(new RegExp(`(.{1,${o}})`,"g"),"$1 ").trim()}function L(n){let r=l(n);if(r.length<4)return null;let o=r.slice(0,2),e=u[o];return!e||r.length!==e||!/^[A-Z]{2}\d{2}[A-Z0-9]+$/.test(r)?null:o}function C(n){let r=l(n);if(r.length<4)return null;let o=r.slice(0,2),e=u[o];return!e||r.length!==e||!/^[A-Z]{2}\d{2}[A-Z0-9]+$/.test(r)?null:{country:o,length:e,sepa:g.has(o)}}export{p as formatIban,L as getIbanCountry,C as getIbanMetadata,a as isValidIban,E as isValidIbanTolerant,l as normalizeIban,I as version};
